/* Flat Task List Component Styles */

/* Time Filter Container */
.flat-task-list-time-filter-container {
  @apply py-3 pl-6 pr-2 border-b border-border/30;
}

/* Time Filter Button Overrides */
.flat-task-list-time-filter-container .filter-btn {
  @apply px-1.5 py-1 text-2xs;
}

.flat-task-list-time-filter-container .filter-btn i {
  @apply w-2 h-2 mr-1.5;
}

.flat-task-list-time-filter-container .filter-count {
  @apply ml-1.5 px-1.5 py-0.5 text-2xs min-w-[16px];
}

/* Container */
.flat-task-list-container {
  @apply flex flex-col h-full bg-background;
}

.flat-task-list-content {
  @apply flex flex-col flex-1 overflow-hidden px-1;
}

/* 快速添加区域 */
.flat-task-list-quick-add {
  @apply m-2 bg-card border border-border rounded-lg shadow-sm;
}

/* 主输入区域 */
.flat-task-list-main-input {
  @apply relative;
}

.flat-task-list-input-wrapper {
  @apply relative p-3 border border-border rounded-lg bg-background transition-all duration-200;
}

.flat-task-list-input-wrapper:focus-within {
  @apply border-ring ring-2 ring-ring/20;
}

.flat-task-list-textarea {
  @apply w-full bg-transparent border-0 outline-none text-foreground placeholder:text-muted-foreground resize-none min-h-[2.5rem] leading-relaxed pr-0 pb-8;
}

/* 输入框内部控制区域 */
.flat-task-list-inline-controls {
  @apply absolute bottom-2 left-3 right-3 flex items-center justify-between;
}

.flat-task-list-inline-options {
  @apply flex items-center gap-3;
}

.flat-task-list-split-btn {
  @apply flex items-center gap-1.5 px-2 py-1 rounded text-sm text-muted-foreground hover:text-foreground transition-all duration-200 cursor-pointer border border-transparent hover:border-border/50;
}

.flat-task-list-split-btn.active {
  @apply text-primary bg-primary/10 border-primary/20;
}

.flat-task-list-split-btn svg {
  @apply transition-colors duration-200;
}

.flat-task-list-split-btn.active svg {
  @apply text-primary;
}

.flat-task-list-split-text {
  @apply text-xs font-medium;
}

.flat-task-list-ai-container {
  @apply relative;
}

.flat-task-list-ai-toggle {
  @apply flex items-center gap-1.5 px-2 py-1 border border-border rounded-md bg-background text-muted-foreground hover:bg-accent hover:text-accent-foreground transition-all duration-200 text-xs;
}

.flat-task-list-ai-toggle.active {
  @apply bg-primary text-primary-foreground border-primary;
}

.flat-task-list-ai-label {
  @apply font-medium;
}

.flat-task-list-input-actions {
  @apply flex items-center gap-2;
}

.flat-task-list-send-btn {
  @apply flex items-center justify-center w-7 h-7 rounded-md bg-primary text-primary-foreground hover:bg-primary/90 disabled:bg-muted disabled:text-muted-foreground disabled:cursor-not-allowed transition-all duration-200;
}

/* AI下拉菜单容器 */
.flat-task-list-ai-section {
  @apply relative;
}



/* AI Dropdown Styles */
.flat-task-list-ai-dropdown {
  @apply absolute left-0 bottom-full mb-2 w-64 bg-popover border border-border rounded-lg shadow-lg z-50 overflow-hidden;
}

.flat-task-list-ai-dropdown-header {
  @apply px-3 py-2 text-sm font-medium text-foreground bg-muted border-b border-border;
}

.flat-task-list-ai-dropdown-list {
  @apply max-h-48 overflow-y-auto;
}

.flat-task-list-ai-dropdown-item {
  @apply flex items-center justify-between px-3 py-2.5 cursor-pointer transition-colors duration-200 hover:bg-accent border-l-2 border-transparent;
}

.flat-task-list-ai-dropdown-item.selected {
  @apply bg-primary/20 text-primary border-l-primary font-medium;
}

.flat-task-list-ai-dropdown-item.no-ai {
  @apply border-t border-border mt-1;
}

.flat-task-list-ai-dropdown-item.no-ai.selected {
  @apply bg-muted/80 text-muted-foreground border-l-muted-foreground;
}

.flat-task-list-ai-model-info {
  @apply flex flex-col gap-0.5;
}

.flat-task-list-ai-model-name {
  @apply text-sm font-medium text-foreground;
}

.flat-task-list-ai-model-provider {
  @apply text-xs text-muted-foreground;
}

.flat-task-list-ai-model-check {
  @apply flex items-center justify-center w-4 h-4 text-primary;
}

/* AI Dropdown Scrollbar */
.flat-task-list-ai-dropdown-list::-webkit-scrollbar {
  width: 4px;
}

.flat-task-list-ai-dropdown-list::-webkit-scrollbar-track {
  background: transparent;
}

.flat-task-list-ai-dropdown-list::-webkit-scrollbar-thumb {
  @apply bg-border/60 rounded-full;
}

.flat-task-list-ai-dropdown-list::-webkit-scrollbar-thumb:hover {
  @apply bg-border;
}

/* Task List Items */
.flat-task-list-items {
  @apply flex-1 overflow-y-auto;
}

/* Custom Scrollbar for Task List */
.flat-task-list-items::-webkit-scrollbar {
  width: 6px;
}

.flat-task-list-items::-webkit-scrollbar-track {
  background: transparent;
}

.flat-task-list-items::-webkit-scrollbar-thumb {
  @apply bg-border/60 rounded-full;
}

.flat-task-list-items::-webkit-scrollbar-thumb:hover {
  @apply bg-border;
}

/* Loading and Empty States */
.flat-task-list-loading-state,
.flat-task-list-empty-state {
  @apply flex flex-col items-center justify-center px-5 py-16 text-center text-muted-foreground;
}

.flat-task-list-empty-icon {
  @apply text-5xl mb-4;
}

.flat-task-list-empty-text {
  @apply text-lg font-medium mb-3 text-foreground;
}

.flat-task-list-empty-suggestion {
  @apply mb-5;
}

.flat-task-list-empty-suggestion ul {
  @apply list-none p-0 my-3;
}

.flat-task-list-empty-suggestion li {
  @apply my-2 text-muted-foreground;
}

.flat-task-list-empty-hint {
  @apply text-sm px-4 py-3 rounded-lg text-muted-foreground bg-muted border-l-4 border-primary;
}

/* Control Buttons */
.flat-task-list-controls {
  @apply px-6 py-3 mb-2 border-b border-border;
}

.flat-task-list-controls-buttons {
  @apply flex gap-2;
}

.flat-task-list-control-btn {
  @apply flex items-center gap-1.5 px-3 py-1.5 text-sm rounded-md cursor-pointer transition-all duration-200 bg-muted border border-border/10 text-muted-foreground;
}

.flat-task-list-control-btn:hover {
  @apply bg-accent border-border/10;
}

/* Group Styles */
.flat-task-group {
  @apply mb-4;
}

.flat-task-group-header {
  @apply flex items-center justify-between px-6 py-2 cursor-pointer select-none mb-2  border-border/10;
}

.flat-task-group-header-static {
  @apply py-2 mb-2 border-b border-border;
}

.flat-task-group-title {
  @apply flex items-center w-full text-base;
}

.flat-task-group-info {
  @apply flex items-center gap-2 font-medium;
}

.flat-task-group-count {
  @apply font-normal text-xs text-muted-foreground;
}

.flat-task-group-collapse-icon {
  @apply text-xs transition-transform duration-200 text-muted-foreground pl-2;
}

/* Task List */
.flat-task-group-items {
  @apply list-none p-0 m-0 transition-all duration-300;
}

.flat-task-group-collapsed {
  @apply max-h-0 overflow-hidden opacity-0;
}

/* Task Item Wrapper */
.flat-task-item-wrapper {
  @apply relative w-full border-b border-border/30 px-1;
}

.flat-task-item-wrapper:last-child {
  @apply border-b-0;
}

/* Task Item */
.flat-task-item {
  @apply flex items-start w-full py-2.5 cursor-pointer transition-all duration-200 gap-2;
}

.flat-task-item:hover,
.flat-task-item-editing {
  @apply bg-muted;
}

/* Task Status Styles */
.flat-task-item-completed {
  @apply opacity-60;
}

.flat-task-item-completed .flat-task-title {
  @apply line-through text-muted-foreground;
}

.flat-task-item-completed .flat-task-description {
  @apply line-through text-muted-foreground opacity-70;
}

.flat-task-item-in-progress {
  
}

.flat-task-item-overtime {
  
}

.flat-task-item-paused {
  
}

.flat-task-item-editing {
  @apply -mx-1 px-3 py-3 rounded-md bg-accent/50 border border-primary;
}

/* Task Left Side */
.flat-task-left {
  @apply flex items-center gap-3 flex-1 min-w-0 -mx-2 overflow-hidden;
}

/* Status Indicator */
.flat-task-status-indicator {
  @apply w-2 h-2 rounded-full flex-shrink-0 mr-2 self-center;
}

.flat-task-status-todo {

}

.flat-task-status-doing {
  @apply bg-status-doing;
}

.flat-task-status-overtime {
  @apply bg-status-overtime;
}

.flat-task-status-paused {
  @apply bg-status-paused;
}

.flat-task-status-done {
}

/* Checkbox */
.flat-task-checkbox {
  @apply relative flex-shrink-0;
}

.flat-task-checkbox input[type="checkbox"] {
  @apply absolute opacity-0 w-0 h-0;
}

.flat-checkbox-label {
  @apply block w-4 h-4 rounded-full cursor-pointer transition-all duration-200 relative border-2 border-border/40 border-primary/30;
}

.flat-checkbox-label:hover {
  @apply border-primary;
}

.flat-task-checkbox input[type="checkbox"]:checked + .flat-checkbox-label {
  @apply bg-primary border-primary;
}

.flat-task-checkbox input[type="checkbox"]:checked + .flat-checkbox-label::after {
  content: '✓';
  @apply absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-xs font-bold text-primary-foreground;
}

/* Task Details */
.flat-task-details {
  @apply flex-1 min-w-0 ;
}

.flat-task-title {
  @apply text-xs font-medium leading-relaxed text-foreground whitespace-nowrap overflow-hidden text-ellipsis;
}

.flat-task-description {
  @apply text-2xs my-1 leading-snug text-muted-foreground;
}

/* Time Info Container */
.flat-task-time-info {
  @apply flex items-center gap-2 mt-1 flex-wrap;
}

/* Recurring Task Icon */
.flat-task-recurring-icon {
  @apply text-2xs flex items-center flex-shrink-0 text-primary py-1 bg-primary/10 rounded-md;
}

.flat-task-recurring-icon i {
  @apply text-primary;
}

.flat-task-reminder-time {
  @apply text-2xs flex items-center gap-1 flex-shrink-0 text-status-todo px-2 py-1 bg-status-todo/10 rounded-md;
}

.flat-task-reminder-time-overdue {
  @apply bg-status-overtime/10 text-status-overtime ;
}

.flat-task-duration-time {
  @apply text-xs flex items-center gap-1 flex-shrink-0 ml-auto text-status-doing;
}

.flat-task-duration-time-overdue {
  @apply bg-destructive/10 text-status-overtime px-2 py-1 rounded-md;
}

.flat-task-time {
  @apply text-2xs flex items-center gap-1 flex-shrink-0 text-muted-foreground bg-muted-foreground/10 px-2 py-1 rounded-md;
}

.flat-task-time-overdue {
  @apply  bg-warning/10 text-status-overtime px-2 py-1 rounded-md;
}

.flat-task-time-doing {
  @apply bg-warning/10 text-status-doing px-2 py-1 rounded-md;
}

.flat-task-time-overtime {
  @apply bg-status-overtime/10 text-status-overtime px-2 py-1 rounded-md;
}

.flat-task-time-paused {
  @apply bg-muted-foreground/10 text-status-paused px-2 py-1 rounded-md;
}

.flat-task-time-completed {
  @apply bg-success/10 text-status-done px-2 py-1 rounded-md;
}


/* Task Right Side */
.flat-task-right {
  @apply flex items-center gap-1.5 flex-shrink-0 mt-0.5 min-w-fit ml-auto;
}

/* Task Tags */
.flat-task-tag {
  @apply inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium flex-shrink-0;
}

.flat-task-tag-recurring {
  @apply bg-primary/10 text-primary;
}

.flat-task-tag-doing {
  @apply bg-status-doing/10 text-status-doing;
}

.flat-task-tag-overtime {
  @apply bg-destructive/10 text-destructive;
}

.flat-task-tag-paused {
  @apply bg-warning/10 text-warning;
}

/* Task Action Buttons */
.flat-task-btn {
  @apply inline-flex items-center justify-center w-7 h-4 border-0 rounded-md cursor-pointer transition-all duration-200 text-xs flex-shrink-0 opacity-100 bg-muted text-muted-foreground;
}

.flat-task-item:hover .flat-task-btn,
.flat-task-item-editing .flat-task-btn {
  @apply opacity-100;
}

.flat-task-btn:hover {
  @apply bg-accent;
}

.flat-task-btn-start:hover {
  @apply bg-success/10 text-success;
}

.flat-task-btn-pause:hover {
  @apply bg-warning/10 text-warning;
}

.flat-task-btn-resume:hover {
  @apply bg-success/10 text-success;
}

.flat-task-btn-complete:hover {
  @apply bg-success/10 text-success;
}

.flat-task-btn-restart:hover {
  @apply bg-destructive/10 text-destructive;
}

.flat-task-btn-edit:hover {
  @apply bg-secondary text-secondary-foreground;
}

.flat-task-btn-delete:hover {
  @apply bg-destructive/10 text-destructive;
}

/* Search Highlight */
.flat-task-list-container :deep(mark) {
  @apply px-0.5 py-0 rounded-sm bg-success/20 text-success-foreground;
}

/* Scrollbar Styles */
.flat-task-list-content::-webkit-scrollbar {
  @apply w-0.5;
}

.flat-task-list-content::-webkit-scrollbar-track {
  @apply bg-transparent;
}

.flat-task-list-content::-webkit-scrollbar-thumb {
  @apply bg-border/30 rounded-full;
}

.flat-task-list-content::-webkit-scrollbar-thumb:hover {
  @apply bg-border/50;
}

/* Firefox scrollbar styling */
.flat-task-list-content {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--primary) / 0.3) transparent;
}

