/* TaskPreviewModal 组件样式 - 使用 Tailwind CSS */

.task-preview-modal-overlay {
  @apply fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm;
  animation: fadeIn 0.2s ease-out;
}

.task-preview-dialog {
  @apply bg-card rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col border border-border;
  animation: slideIn 0.3s ease-out;
}

/* 原始输入内容展示区域 */
.task-preview-original-input {
  @apply p-4 px-6 bg-muted/30 border-b border-border flex flex-col gap-2 relative;
}

.task-preview-original-label {
  @apply text-xs font-medium text-muted-foreground uppercase tracking-wide;
}

.task-preview-original-content {
  @apply text-sm text-foreground bg-background p-2 pr-10 rounded-md border border-border break-words;
}

.task-preview-copy-btn {
  @apply absolute top-6 right-6 w-6 h-6 border-0 rounded bg-background hover:bg-accent cursor-pointer flex items-center justify-center transition-all duration-200 text-xs text-muted-foreground hover:text-foreground;
}

.task-preview-copy-btn:disabled {
  @apply cursor-not-allowed opacity-50;
}

.task-preview-copy-btn.copy-success {
  @apply bg-green-100 text-green-600 hover:bg-green-100;
}

.task-preview-copy-btn.copy-error {
  @apply bg-red-100 text-red-600 hover:bg-red-100;
}

.task-preview-copy-btn.copy-copying {
  @apply bg-blue-100 text-blue-600;
}

.copy-icon {
  @apply w-3 h-3 border border-current rounded-sm relative;
}

.copy-icon::after {
  content: '';
  @apply absolute -top-0.5 -right-0.5 w-3 h-3 border border-current rounded-sm bg-background;
}

.copy-icon-success {
  @apply w-3 h-3 relative;
}

.copy-icon-success::before {
  content: '';
  @apply absolute left-0.5 top-1 w-1 h-1.5 border-r-2 border-b-2 border-current rotate-45;
}

.copy-icon-error {
  @apply w-3 h-3 relative;
}

.copy-icon-error::before,
.copy-icon-error::after {
  content: '';
  @apply absolute top-1/2 left-1/2 w-3 h-0.5 bg-current rotate-45;
  transform: translate(-50%, -50%) rotate(45deg);
}

.copy-icon-error::after {
  transform: translate(-50%, -50%) rotate(-45deg);
}

.copy-icon-loading {
  @apply w-3 h-3 border-2 border-current border-t-transparent rounded-full;
  animation: spin 1s linear infinite;
}

.task-preview-dialog-header {
  @apply p-2 flex items-center justify-between border-b border-border bg-card sticky top-0 z-10;
}

.task-preview-dialog-header h3 {
  @apply text-base font-semibold text-foreground m-0 flex-1 text-center;
}

.task-preview-header-btn {
  @apply w-8 h-8 border-0 rounded-md bg-transparent cursor-pointer flex items-center justify-center transition-all duration-200 text-sm;
}

.task-preview-header-btn:hover {
  @apply bg-accent;
}

.task-preview-header-btn.task-preview-btn-cancel {
  @apply text-muted-foreground;
}

.task-preview-header-btn.task-preview-btn-cancel:hover {
  @apply text-foreground bg-accent;
}

.task-preview-header-btn.task-preview-btn-confirm {
  @apply text-primary;
}

.task-preview-header-btn.task-preview-btn-confirm:hover:not(:disabled) {
  @apply bg-primary text-primary-foreground;
}

.task-preview-header-btn.task-preview-btn-confirm:disabled {
  @apply text-muted-foreground cursor-not-allowed;
}

.task-preview-header-btn.task-preview-btn-confirm:disabled:hover {
  @apply bg-transparent;
}

.task-preview-dialog-body {
  @apply p-2 flex-1 overflow-y-auto flex flex-col gap-2;
}

.task-preview-stats {
  @apply flex items-center justify-center p-2 bg-muted rounded-lg border border-border;
}

.task-preview-count {
  @apply text-sm font-medium text-muted-foreground;
}

.task-preview-loading {
  @apply flex-1 flex flex-col items-center justify-center gap-4 p-12 px-4 min-h-[200px];
}

.task-preview-loading-spinner {
  @apply flex items-center justify-center w-12 h-12 rounded-full bg-muted text-primary text-xl;
}

.loading-circle {
  @apply w-6 h-6 border-2 border-primary border-t-transparent rounded-full;
  animation: spin 1s linear infinite;
}

.task-preview-loading-text {
  @apply text-sm text-muted-foreground text-center m-0;
}

/* 任务列表样式 */
.task-preview-list {
  @apply flex-1 flex flex-col gap-2 p-1;
}

.task-preview-item {
  @apply bg-card border border-border rounded-lg p-4 transition-all duration-200;
}

.task-preview-item:hover {
  @apply border-primary shadow-lg shadow-primary/10;
}

.task-preview-row {
  @apply flex items-center gap-3;
}

.task-preview-row + .task-preview-row {
  @apply mt-3;
}

/* 第一行：任务内容 + 操作按钮 */
.task-preview-row-main {
  @apply justify-between;
}

.task-preview-content-wrapper {
  @apply flex-1;
}

.task-preview-actions-wrapper {
  @apply flex-shrink-0;
}

/* 第二行：提醒时间 + 所属清单 */
.task-preview-row-meta {
  @apply justify-start gap-2;
}

.task-preview-meta-item {
  @apply flex items-center gap-2 min-w-40;
}

.task-preview-meta-label {
  @apply text-xs font-medium text-muted-foreground whitespace-nowrap flex-shrink-0;
}

/* 第三行：备注 */
.task-preview-row-note {
  @apply justify-start items-center gap-2;
}

.task-preview-note-label {
  @apply text-xs font-medium text-muted-foreground whitespace-nowrap flex-shrink-0;
}

.task-preview-input-note {
  @apply flex-1;
}

.task-preview-field {
  @apply flex flex-col gap-2;
}

.task-preview-field-row {
  @apply flex flex-row gap-4 items-end;
}

.task-preview-field-row .task-preview-field {
  @apply flex-1 min-w-0;
}

.task-preview-label {
  @apply text-sm font-medium text-foreground m-0;
}

.task-preview-input,
.task-preview-select,
.task-preview-textarea {
  @apply w-full p-3 px-4 border border-border rounded-lg bg-background text-foreground text-sm transition-all duration-200;
}

.task-preview-input:focus,
.task-preview-select:focus,
.task-preview-textarea:focus {
  @apply outline-none border-primary ring-2 ring-primary/20;
}

.task-preview-input::placeholder,
.task-preview-textarea::placeholder {
  @apply text-muted-foreground;
}

.task-preview-select {
  @apply cursor-pointer;
}

.task-preview-textarea {
  @apply resize-y min-h-12;
}

/* 输入框样式 */
.task-preview-input-main {
  @apply w-full py-1 px-1 border border-border rounded-md text-sm font-medium leading-normal bg-background transition-all duration-200;
}

.task-preview-input-main:focus {
  @apply outline-none border-primary ring-2 ring-primary/20;
}

.task-preview-input-meta {
  @apply w-full py-2 px-2.5 border border-border rounded text-xs leading-normal bg-background transition-all duration-200;
}

.task-preview-input-meta:focus {
  @apply outline-none border-primary ring-2 ring-primary/20;
}

.task-preview-select-meta {
  @apply w-full py-2 px-2.5 border border-border rounded text-xs leading-normal bg-background cursor-pointer transition-all duration-200;
}

.task-preview-select-meta:focus {
  @apply outline-none border-primary ring-2 ring-primary/20;
}

.task-preview-input-note {
  @apply w-full py-2 px-2.5 border border-border rounded text-xs leading-normal bg-background transition-all duration-200;
}

.task-preview-input-note:focus {
  @apply outline-none border-primary ring-2 ring-primary/20;
}

/* 删除按钮样式 */
.task-preview-delete-btn {
  @apply flex items-center justify-center w-8 h-8 p-0 border border-destructive rounded-md bg-destructive text-destructive-foreground cursor-pointer transition-all duration-200 text-sm;
}

.task-preview-delete-btn:hover {
  @apply bg-destructive/90 scale-105;
}

.task-preview-delete-btn:active {
  @apply scale-95;
}

.task-preview-divider {
  @apply h-px bg-border my-2;
}

.task-preview-actions {
  @apply flex gap-4 justify-end pt-4 border-t border-border mt-auto;
}

.task-preview-btn {
  @apply p-2 rounded-lg text-sm font-medium cursor-pointer transition-all duration-200 flex items-center gap-2 border-0 min-w-24 justify-center;
}

.task-preview-btn-secondary {
  @apply bg-secondary text-secondary-foreground border border-border;
}

.task-preview-btn-secondary:hover {
  @apply bg-secondary/80;
}

.task-preview-btn-primary {
  @apply bg-primary text-primary-foreground;
}

.task-preview-btn-primary:hover:not(:disabled) {
  @apply bg-primary/90;
}

.task-preview-btn-primary:disabled {
  @apply bg-muted text-muted-foreground cursor-not-allowed;
}

/* 动画 */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* 加载动画已整合到 .loading-circle 中 */

/* 响应式设计 */
@media (max-width: 768px) {
  .task-preview-dialog {
    @apply w-[95vw] max-w-none m-2.5 max-h-[calc(100vh-20px)];
  }
  
  .task-preview-original-input {
    @apply p-1;
  }
  
  .task-preview-original-content {
    @apply text-xs leading-normal;
  }
  
  .task-preview-list {
    @apply gap-3 p-1;
  }
  
  .task-preview-item {
    @apply p-3;
  }
  
  .task-preview-row {
    @apply gap-2;
  }
  
  .task-preview-row + .task-preview-row {
    @apply mt-2;
  }
  
  .task-preview-row-meta {
    @apply flex-col gap-3;
  }
   
  .task-preview-meta-item {
    @apply min-w-0 w-full flex-col items-start gap-1;
  }
   
  .task-preview-row-note {
    @apply flex-col items-start gap-1;
  }
   
  .task-preview-input-note {
    @apply w-full;
  }
  
  .task-preview-input-main {
    @apply text-xs py-2 px-2.5;
  }
  
  .task-preview-input-meta,
  .task-preview-select-meta,
  .task-preview-input-note {
    @apply text-xs py-1.5 px-2;
  }
  
  .task-preview-delete-btn {
    @apply w-7 h-7 text-xs;
  }
  
  .task-preview-actions {
    @apply flex-col;
  }
  
  .task-preview-btn {
    @apply w-full;
  }
}