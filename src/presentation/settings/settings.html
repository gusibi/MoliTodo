<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>设置 - MoliTodo</title>
    <link rel="stylesheet" href="settings.css">
</head>
<body>
    <div class="settings-app">
        <div class="settings-layout">
            <!-- 左侧导航栏 -->
            <div class="sidebar">
                <div class="sidebar-item active" data-tab="general">
                    <div class="sidebar-item-icon">🔧</div>
                    <div class="sidebar-item-text">通用</div>
                </div>
                <div class="sidebar-item" data-tab="appearance">
                    <div class="sidebar-item-icon">🎨</div>
                    <div class="sidebar-item-text">外观</div>
                </div>
                <div class="sidebar-item" data-tab="notifications">
                    <div class="sidebar-item-icon">🔔</div>
                    <div class="sidebar-item-text">通知</div>
                </div>
            </div>

            <!-- 右侧主设置区域 -->
            <div class="main-settings-area">

                <!-- 通用设置 -->
                <div class="tab-content active" id="general">
                    <div class="settings-title">通用</div>
                    <div class="settings-subtitle">应用基础设置和数据管理</div>

                    <!-- 启动设置组 -->
                    <div class="settings-group">
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <div class="settings-item-label">开机自动启动</div>
                                <div class="settings-item-description">系统启动时自动运行 MoliTodo</div>
                            </div>
                            <div class="settings-item-control">
                                <input type="checkbox" class="toggle-switch" id="autoStart">
                                <label for="autoStart" class="toggle-label"></label>
                            </div>
                        </div>
                        
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <div class="settings-item-label">启动时显示悬浮图标</div>
                                <div class="settings-item-description">应用启动后立即显示悬浮图标</div>
                            </div>
                            <div class="settings-item-control">
                                <input type="checkbox" class="toggle-switch" id="showIconOnStart" checked>
                                <label for="showIconOnStart" class="toggle-label"></label>
                            </div>
                        </div>
                    </div>

                    <!-- 数据存储设置组 -->
                    <div class="settings-group">
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <div class="settings-item-label">存储类型</div>
                                <div class="settings-item-description">选择数据存储方式</div>
                            </div>
                            <div class="settings-item-control">
                                <select class="select-dropdown" id="dbType">
                                    <option value="sqlite">SQLite 数据库（推荐）</option>
                                    <option value="file">文件存储（兼容模式）</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="settings-item" id="dbPathSetting">
                            <div class="settings-item-info">
                                <div class="settings-item-label">数据库位置</div>
                                <div class="settings-item-description" id="dbStats">数据库统计信息加载中...</div>
                            </div>
                            <div class="settings-item-control">
                                <div class="path-control-group">
                                    <input type="text" id="dbPath" class="path-input" readonly placeholder="使用默认位置">
                                    <button class="action-button secondary" id="choosePath">选择位置</button>
                                    <button class="action-button secondary" id="resetPath">重置</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 数据管理组 -->
                    <div class="settings-group">
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <div class="settings-item-label">导出数据</div>
                                <div class="settings-item-description">将所有任务数据导出为 JSON 文件</div>
                            </div>
                            <div class="settings-item-control">
                                <button class="action-button secondary" id="exportData">导出</button>
                            </div>
                        </div>
                        
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <div class="settings-item-label">导入数据</div>
                                <div class="settings-item-description">从 JSON 文件导入任务数据</div>
                            </div>
                            <div class="settings-item-control">
                                <button class="action-button secondary" id="importData">导入</button>
                            </div>
                        </div>
                        
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <div class="settings-item-label">清除所有数据</div>
                                <div class="settings-item-description">删除所有任务和设置数据（不可恢复）</div>
                            </div>
                            <div class="settings-item-control">
                                <button class="action-button danger" id="clearAllData">清除</button>
                            </div>
                        </div>
                    </div>

                    <!-- 消息提示 -->
                    <div class="message-container">
                        <div class="success-message" id="exportSuccess">数据导出成功！</div>
                        <div class="error-message" id="exportError">导出失败，请重试</div>
                        <div class="success-message" id="importSuccess">数据导入成功！</div>
                        <div class="error-message" id="importError">导入失败，请检查文件格式</div>
                        <div class="success-message" id="clearSuccess">数据清除成功！</div>
                        <div class="error-message" id="clearError">清除失败，请重试</div>
                    </div>
                </div>

                <!-- 外观设置 -->
                <div class="tab-content" id="appearance">
                    <div class="settings-title">外观</div>
                    <div class="settings-subtitle">自定义悬浮图标的外观和行为</div>

                    <!-- 悬浮图标设置组 -->
                    <div class="settings-group">
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <div class="settings-item-label">图标大小</div>
                                <div class="settings-item-description">调整悬浮图标的大小 (40-80 像素)</div>
                            </div>
                            <div class="settings-item-control">
                                <div class="slider-container">
                                    <input type="range" class="slider" id="sizeSlider" min="40" max="80" value="60">
                                    <span class="slider-value" id="sizeValue">60px</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <div class="settings-item-label">透明度</div>
                                <div class="settings-item-description">调整悬浮图标的透明度 (20-100%)</div>
                            </div>
                            <div class="settings-item-control">
                                <div class="slider-container">
                                    <input type="range" class="slider" id="opacitySlider" min="20" max="100" value="90">
                                    <span class="slider-value" id="opacityValue">90%</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 主题设置组 -->
                    <div class="settings-group">
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <div class="settings-item-label">应用主题</div>
                                <div class="settings-item-description">选择应用的整体外观主题</div>
                            </div>
                            <div class="settings-item-control">
                                <select class="select-dropdown" id="appTheme">
                                    <option value="system">跟随系统</option>
                                    <option value="light">浅色模式</option>
                                    <option value="dark">深色模式</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <div class="settings-item-label">图标样式</div>
                                <div class="settings-item-description">选择悬浮图标的视觉样式</div>
                            </div>
                            <div class="settings-item-control">
                                <select class="select-dropdown" id="iconStyle">
                                    <option value="default">默认</option>
                                    <option value="minimal">简约</option>
                                    <option value="colorful">彩色</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- 实时预览区域 -->
                    <div class="preview-section">
                        <div class="preview-title">实时预览</div>
                        <div class="preview-container">
                            <div class="floating-icon-preview" id="iconPreview">
                                <div class="icon-badge">3</div>
                            </div>
                            <div class="preview-description">悬浮图标预览效果</div>
                        </div>
                    </div>
                </div>

                <!-- 通知设置 -->
                <div class="tab-content" id="notifications">
                    <div class="settings-title">通知</div>
                    <div class="settings-subtitle">管理任务提醒和通知方式</div>

                    <!-- 系统通知设置组 -->
                    <div class="settings-group">
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <div class="settings-item-label">系统通知</div>
                                <div class="settings-item-description">任务到期时显示系统桌面通知</div>
                            </div>
                            <div class="settings-item-control">
                                <input type="checkbox" class="toggle-switch" id="systemNotifications" checked>
                                <label for="systemNotifications" class="toggle-label"></label>
                            </div>
                        </div>
                        
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <div class="settings-item-label">悬浮图标动画</div>
                                <div class="settings-item-description">任务到期时悬浮图标显示提醒动画</div>
                            </div>
                            <div class="settings-item-control">
                                <input type="checkbox" class="toggle-switch" id="iconAnimation" checked>
                                <label for="iconAnimation" class="toggle-label"></label>
                            </div>
                        </div>
                    </div>

                    <!-- 声音设置组 -->
                    <div class="settings-group">
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <div class="settings-item-label">提醒声音</div>
                                <div class="settings-item-description">任务到期时播放提醒声音</div>
                            </div>
                            <div class="settings-item-control">
                                <input type="checkbox" class="toggle-switch" id="alertSound" checked>
                                <label for="alertSound" class="toggle-label"></label>
                            </div>
                        </div>
                        
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <div class="settings-item-label">声音类型</div>
                                <div class="settings-item-description">选择提醒声音的类型</div>
                            </div>
                            <div class="settings-item-control">
                                <div class="sound-selector">
                                    <select class="select-dropdown" id="soundType">
                                        <option value="default">默认</option>
                                        <option value="bell">铃声</option>
                                        <option value="chime">提示音</option>
                                        <option value="ping">乒乓</option>
                                    </select>
                                    <button class="play-button" id="playSound">▶</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <div class="settings-item-label">音量</div>
                                <div class="settings-item-description">调整提醒声音的音量大小</div>
                            </div>
                            <div class="settings-item-control">
                                <div class="slider-container">
                                    <input type="range" class="slider" id="soundVolume" min="0" max="100" value="50">
                                    <span class="slider-value" id="volumeValue">50%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="settings.js"></script>
</body>
</html>